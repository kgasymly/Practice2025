<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Заявка на турнир по баскетболу</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: white;
            border-radius: 12px;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            transform: translateY(20px);
            transition: transform 0.3s ease;
            position: relative;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #1e50a2;
            color: white;
            border-radius: 12px 12px 0 0;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: white;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #ddd;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-text {
            color: #666;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-primary {
            background-color: #1e50a2;
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background-color: #163b7a;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #ddd;
            color: #555;
            margin-right: 10px;
        }

        .btn-outline:hover {
            background-color: #f5f5f5;
        }

        /* Стили для формы */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }

        /* Скрытые шаги */
        .modal-step {
            display: none;
        }

        .modal-step.active {
            display: block;
        }

        /* Кнопка для демонстрации */
        .demo-btn {
            padding: 12px 24px;
            background-color: #1e50a2;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .demo-btn:hover {
            background-color: #163b7a;
        }

        .basketball-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            background-color: #f5a623;
            border-radius: 50%;
            margin-right: 8px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <button class="demo-btn" id="openModalBtn">
        <span class="basketball-icon"></span> Подать заявку на турнир
    </button>

    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <!-- Шаг 1: Основное окно -->
            <div class="modal-step active" id="step1">
                <div class="modal-header">
                    <h3 class="modal-title">Заявка на турнир по баскетболу</h3>
                    <button class="close-btn" id="closeModalBtn">&times;</button>
                </div>
                <div class="modal-body">
                    <p class="modal-text">Заполните форму для участия в турнире. Вам нужно будет указать ваше имя, возраст и название команды.</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="cancelBtn">Отмена</button>
                    <button class="btn btn-primary" id="confirmBtn">Начать заполнение</button>
                </div>
            </div>

            <!-- Шаг 2: Ввод имени -->
            <div class="modal-step" id="step2">
                <div class="modal-header">
                    <h3 class="modal-title">Шаг 1: Ваше имя</h3>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="nameInput" class="form-label">Полное имя:</label>
                        <input type="text" id="nameInput" class="form-input" placeholder="Иванов Иван Иванович">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="backToStep1">Назад</button>
                    <button class="btn btn-primary" id="nextToStep3">Далее</button>
                </div>
            </div>

            <!-- Шаг 3: Ввод возраста -->
            <div class="modal-step" id="step3">
                <div class="modal-header">
                    <h3 class="modal-title">Шаг 2: Ваш возраст</h3>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="ageInput" class="form-label">Возраст:</label>
                        <input type="number" id="ageInput" class="form-input" placeholder="18" min="12" max="60">
                    </div>
                    <p class="modal-text">Турнир проводится для участников от 12 до 60 лет</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="backToStep2">Назад</button>
                    <button class="btn btn-primary" id="nextToStep4">Далее</button>
                </div>
            </div>

            <!-- Шаг 4: Название команды -->
            <div class="modal-step" id="step4">
                <div class="modal-header">
                    <h3 class="modal-title">Шаг 3: Название команды</h3>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="teamInput" class="form-label">Название вашей команды:</label>
                        <input type="text" id="teamInput" class="form-input" placeholder="Например: 'Летящие мячи'">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="backToStep3">Назад</button>
                    <button class="btn btn-primary" id="nextToStep5">Далее</button>
                </div>
            </div>

            <!-- Шаг 5: Подтверждение -->
            <div class="modal-step" id="step5">
                <div class="modal-header">
                    <h3 class="modal-title">Заявка принята!</h3>
                </div>
                <div class="modal-body">
                    <p class="modal-text" id="resultText"></p>
                    <p class="modal-text">Организаторы свяжутся с вами в ближайшее время для подтверждения участия.</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="closeAfterComplete">Закрыть</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Элементы DOM
        const modalOverlay = document.getElementById('modalOverlay');
        const openModalBtn = document.getElementById('openModalBtn');
        const closeModalBtn = document.getElementById('closeModalBtn');
        
        // Кнопки шага 1
        const cancelBtn = document.getElementById('cancelBtn');
        const confirmBtn = document.getElementById('confirmBtn');
        
        // Кнопки шага 2
        const backToStep1 = document.getElementById('backToStep1');
        const nextToStep3 = document.getElementById('nextToStep3');
        const nameInput = document.getElementById('nameInput');
        
        // Кнопки шага 3
        const backToStep2 = document.getElementById('backToStep2');
        const nextToStep4 = document.getElementById('nextToStep4');
        const ageInput = document.getElementById('ageInput');
        
        // Кнопки шага 4
        const backToStep3 = document.getElementById('backToStep3');
        const nextToStep5 = document.getElementById('nextToStep5');
        const teamInput = document.getElementById('teamInput');
        
        // Шаг 5
        const resultText = document.getElementById('resultText');
        const closeAfterComplete = document.getElementById('closeAfterComplete');
        
        // Все шаги
        const steps = [
            document.getElementById('step1'),
            document.getElementById('step2'),
            document.getElementById('step3'),
            document.getElementById('step4'),
            document.getElementById('step5')
        ];
        
        // Текущий шаг
        let currentStep = 0;
        
        // Показать конкретный шаг
        function showStep(stepIndex) {
            steps.forEach((step, index) => {
                if (index === stepIndex) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
            currentStep = stepIndex;
        }
        
        // Открытие модального окна
        openModalBtn.addEventListener('click', () => {
            modalOverlay.classList.add('active');
            showStep(0); // Сбрасываем на первый шаг
            nameInput.value = '';
            ageInput.value = '';
            teamInput.value = '';
        });
        
        // Закрытие модального окна
        function closeModal() {
            modalOverlay.classList.remove('active');
        }
        
        closeModalBtn.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                closeModal();
            }
        });
        
        // Обработчики шага 1
        cancelBtn.addEventListener('click', () => {
            showStep(0); // Возвращаемся в начальное состояние
        });
        
        confirmBtn.addEventListener('click', () => {
            showStep(1); // Переходим к вводу имени
        });
        
        // Обработчики шага 2
        backToStep1.addEventListener('click', () => {
            showStep(0); // Возвращаемся к первому шагу
        });
        
        nextToStep3.addEventListener('click', () => {
            if (nameInput.value.trim() === '') {
                alert('Пожалуйста, введите ваше имя');
                return;
            }
            showStep(2); // Переходим к вводу возраста
        });
        
        // Обработчики шага 3
        backToStep2.addEventListener('click', () => {
            showStep(1); // Возвращаемся к вводу имени
        });
        
        nextToStep4.addEventListener('click', () => {
            const age = parseInt(ageInput.value);
            
            if (isNaN(age) || ageInput.value.trim() === '') {
                alert('Пожалуйста, введите ваш возраст');
                return;
            }
            
            if (age < 12 || age > 60) {
                alert('Возраст должен быть от 12 до 60 лет');
                return;
            }
            
            showStep(3); // Переходим к вводу команды
        });
        
        // Обработчики шага 4
        backToStep3.addEventListener('click', () => {
            showStep(2); // Возвращаемся к вводу возраста
        });
        
        nextToStep5.addEventListener('click', () => {
            if (teamInput.value.trim() === '') {
                alert('Пожалуйста, введите название команды');
                return;
            }
            
            // Формируем итоговый текст
            resultText.textContent = `Вы записаны на турнир: ${nameInput.value}, ${ageInput.value} лет, команда "${teamInput.value}"`;
            showStep(4); // Переходим к результату
        });
        
        // Обработчик шага 5
        closeAfterComplete.addEventListener('click', closeModal);
    </script>
</body>
</html>